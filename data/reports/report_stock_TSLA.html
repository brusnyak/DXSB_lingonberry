
<!DOCTYPE html>
<html>
<head>
    <title>ICT Analysis - TSLA</title>
    <script src="https://unpkg.com/lightweight-charts@4.1.1/dist/lightweight-charts.standalone.production.js"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: #131722; color: #d1d4dc; margin: 0; padding: 20px; }
        #chart { height: 600px; width: 100%; border: 1px solid #2B2B43; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .badge { padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }
        .bullish { background: #26a69a; color: white; }
        .bearish { background: #ef5350; color: white; }
        .neutral { background: #787b86; color: white; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ICT Analysis: TSLA</h1>
        <div><span class="badge neutral">stock</span></div>
    </div>
    <div id="chart"></div>
    <div style="margin-top: 20px;">
        <h3>Patterns Detected:</h3>
        <ul id="pattern-list"></ul>
    </div>

    <script>
        window.onload = function() {
            if (typeof LightweightCharts === 'undefined') {
                document.getElementById('chart').innerHTML = '<h2 style="color:red; text-align:center; padding-top:100px;">Error: Lightweight Charts failed to load.<br>Please check your internet connection or tracking prevention settings.</h2>';
                return;
            }

            const chartOptions = {
                width: document.getElementById('chart').offsetWidth,
                height: 600,
                layout: {
                    background: { type: 'solid', color: '#131722' },
                    textColor: '#d1d4dc',
                },
                grid: {
                    vertLines: { color: '#2B2B43' },
                    horzLines: { color: '#2B2B43' },
                },
                crosshair: { mode: 0 },
                priceScale: { borderColor: '#485c7b' },
                timeScale: { borderColor: '#485c7b' },
            };

            const chart = LightweightCharts.createChart(document.getElementById('chart'), chartOptions);
            const candleSeries = chart.addCandlestickSeries({
                upColor: '#26a69a', downColor: '#ef5350', borderVisible: false,
                wickUpColor: '#26a69a', wickDownColor: '#ef5350',
            });

        const candleData = [{"time": 1771615200, "open": 412.20001220703125, "high": 412.3299865722656, "low": 412.0387878417969, "close": 412.20001220703125}, {"time": 1771615260, "open": 412.2250061035156, "high": 412.5199890136719, "low": 412.2250061035156, "close": 412.4599914550781}, {"time": 1771615320, "open": 412.4700012207031, "high": 412.67999267578125, "low": 412.3994140625, "close": 412.526611328125}, {"time": 1771615380, "open": 412.5299987792969, "high": 412.55999755859375, "low": 412.20001220703125, "close": 412.29058837890625}, {"time": 1771615440, "open": 412.2952880859375, "high": 412.4700012207031, "low": 412.1400146484375, "close": 412.1650085449219}, {"time": 1771615500, "open": 412.17999267578125, "high": 412.2099914550781, "low": 411.7300109863281, "close": 411.7749938964844}, {"time": 1771615560, "open": 411.7998962402344, "high": 411.8599853515625, "low": 411.3699951171875, "close": 411.4100036621094}, {"time": 1771615620, "open": 411.40008544921875, "high": 411.5199890136719, "low": 411.239990234375, "close": 411.2900085449219}, {"time": 1771615680, "open": 411.2500915527344, "high": 411.30999755859375, "low": 410.92999267578125, "close": 410.92999267578125}, {"time": 1771615740, "open": 410.9562072753906, "high": 411.1199951171875, "low": 410.8500061035156, "close": 411.0799865722656}, {"time": 1771615800, "open": 411.1099853515625, "high": 411.3800048828125, "low": 411.0600891113281, "close": 411.2149963378906}, {"time": 1771615860, "open": 411.2496032714844, "high": 411.5899963378906, "low": 411.1900939941406, "close": 411.3999938964844}, {"time": 1771615920, "open": 411.3699951171875, "high": 411.4898986816406, "low": 411.04998779296875, "close": 411.3299865722656}, {"time": 1771615980, "open": 411.2414855957031, "high": 411.2414855957031, "low": 410.9200134277344, "close": 411.04010009765625}, {"time": 1771616040, "open": 411.0899963378906, "high": 411.20001220703125, "low": 410.9119873046875, "close": 411.0899963378906}, {"time": 1771616100, "open": 411.07501220703125, "high": 411.1099853515625, "low": 410.6300048828125, "close": 410.68499755859375}, {"time": 1771616160, "open": 410.6600036621094, "high": 410.9798889160156, "low": 410.6000061035156, "close": 410.8200988769531}, {"time": 1771616220, "open": 410.82501220703125, "high": 410.8599853515625, "low": 410.55999755859375, "close": 410.57989501953125}, {"time": 1771616280, "open": 410.57000732421875, "high": 410.9280090332031, "low": 410.5600891113281, "close": 410.75}, {"time": 1771616340, "open": 410.75, "high": 410.9800109863281, "low": 410.4599914550781, "close": 410.5}, {"time": 1771616400, "open": 410.510009765625, "high": 410.75, "low": 410.4100036621094, "close": 410.55999755859375}, {"time": 1771616460, "open": 410.55499267578125, "high": 410.6075134277344, "low": 410.3900146484375, "close": 410.4150085449219}, {"time": 1771616520, "open": 410.44000244140625, "high": 410.4999084472656, "low": 410.20001220703125, "close": 410.29998779296875}, {"time": 1771616580, "open": 410.2799987792969, "high": 410.4399108886719, "low": 410.0400085449219, "close": 410.0950012207031}, {"time": 1771616640, "open": 410.0799865722656, "high": 410.44989013671875, "low": 410.0299987792969, "close": 410.2701110839844}, {"time": 1771616700, "open": 410.3399963378906, "high": 410.4599914550781, "low": 410.17999267578125, "close": 410.3700866699219}, {"time": 1771616760, "open": 410.4200134277344, "high": 410.46990966796875, "low": 410.2200012207031, "close": 410.42498779296875}, {"time": 1771616820, "open": 410.3999938964844, "high": 410.55999755859375, "low": 410.20001220703125, "close": 410.3599853515625}, {"time": 1771616880, "open": 410.3475036621094, "high": 410.42999267578125, "low": 410.23919677734375, "close": 410.2699890136719}, {"time": 1771616940, "open": 410.2749938964844, "high": 410.39990234375, "low": 410.0400085449219, "close": 410.385009765625}, {"time": 1771617000, "open": 410.3399963378906, "high": 410.6817932128906, "low": 410.17999267578125, "close": 410.6700134277344}, {"time": 1771617060, "open": 410.6919860839844, "high": 410.95001220703125, "low": 410.510009765625, "close": 410.5262145996094}, {"time": 1771617120, "open": 410.5249938964844, "high": 410.80999755859375, "low": 410.3900146484375, "close": 410.6700134277344}, {"time": 1771617180, "open": 410.70001220703125, "high": 410.75, "low": 410.510009765625, "close": 410.6650085449219}, {"time": 1771617240, "open": 410.6650085449219, "high": 410.7900085449219, "low": 410.5199890136719, "close": 410.57000732421875}, {"time": 1771617300, "open": 410.55999755859375, "high": 410.6499938964844, "low": 410.2099914550781, "close": 410.2300109863281}, {"time": 1771617360, "open": 410.2408142089844, "high": 410.4700012207031, "low": 409.8900146484375, "close": 409.9153137207031}, {"time": 1771617420, "open": 409.9100036621094, "high": 409.9798889160156, "low": 409.66229248046875, "close": 409.860107421875}, {"time": 1771617480, "open": 409.9100036621094, "high": 409.95001220703125, "low": 409.75, "close": 409.7699890136719}, {"time": 1771617540, "open": 409.7900085449219, "high": 409.92999267578125, "low": 409.6600036621094, "close": 409.7937927246094}, {"time": 1771617600, "open": 409.79998779296875, "high": 409.94000244140625, "low": 409.6499938964844, "close": 409.9200134277344}, {"time": 1771617660, "open": 409.9393005371094, "high": 410.1098937988281, "low": 409.7699890136719, "close": 410.0299987792969}, {"time": 1771617720, "open": 410.04998779296875, "high": 410.19000244140625, "low": 409.8699951171875, "close": 409.9150085449219}, {"time": 1771617780, "open": 409.92498779296875, "high": 410.3489074707031, "low": 409.92498779296875, "close": 410.1499938964844}, {"time": 1771617840, "open": 410.1549987792969, "high": 410.25, "low": 409.989990234375, "close": 410.2200012207031}, {"time": 1771617900, "open": 410.2200012207031, "high": 410.9198913574219, "low": 410.19000244140625, "close": 410.7900085449219}, {"time": 1771617960, "open": 410.80999755859375, "high": 411.0199890136719, "low": 410.6401062011719, "close": 410.9649963378906}, {"time": 1771618020, "open": 410.9400939941406, "high": 411.2699890136719, "low": 410.7799987792969, "close": 411.2200012207031}, {"time": 1771618080, "open": 411.19500732421875, "high": 411.2099914550781, "low": 411.0, "close": 411.1299133300781}, {"time": 1771618140, "open": 411.1499938964844, "high": 411.30499267578125, "low": 410.989990234375, "close": 411.0000915527344}, {"time": 1771618200, "open": 411.0199890136719, "high": 411.260009765625, "low": 411.0199890136719, "close": 411.25}, {"time": 1771618260, "open": 411.2699890136719, "high": 411.3699951171875, "low": 411.10101318359375, "close": 411.19000244140625}, {"time": 1771618320, "open": 411.2200012207031, "high": 411.2200012207031, "low": 410.9100036621094, "close": 410.9800109863281}, {"time": 1771618380, "open": 411.0, "high": 411.2300109863281, "low": 410.9504089355469, "close": 411.0799865722656}, {"time": 1771618440, "open": 411.05999755859375, "high": 411.1499938964844, "low": 410.8699951171875, "close": 411.0199890136719}, {"time": 1771618500, "open": 411.0398864746094, "high": 411.04998779296875, "low": 410.55999755859375, "close": 410.6199951171875}, {"time": 1771618560, "open": 410.625, "high": 410.7300109863281, "low": 410.3808898925781, "close": 410.4898986816406}, {"time": 1771618620, "open": 410.44000244140625, "high": 410.510009765625, "low": 410.3500061035156, "close": 410.45001220703125}, {"time": 1771618680, "open": 410.4599914550781, "high": 410.4599914550781, "low": 410.1600036621094, "close": 410.2699890136719}, {"time": 1771618740, "open": 410.2799072265625, "high": 410.2799072265625, "low": 409.8599853515625, "close": 409.9049987792969}, {"time": 1771618800, "open": 409.9200134277344, "high": 409.92999267578125, "low": 409.7699890136719, "close": 409.8599853515625}, {"time": 1771618860, "open": 409.8550109863281, "high": 410.0, "low": 409.55999755859375, "close": 409.6300048828125}, {"time": 1771618920, "open": 409.6300048828125, "high": 410.0299987792969, "low": 409.5299987792969, "close": 409.9849853515625}, {"time": 1771618980, "open": 410.010009765625, "high": 410.1700134277344, "low": 409.92999267578125, "close": 410.0101013183594}, {"time": 1771619040, "open": 410.0163879394531, "high": 410.0899963378906, "low": 409.9316101074219, "close": 409.95001220703125}, {"time": 1771619100, "open": 409.95001220703125, "high": 410.0400085449219, "low": 409.7200012207031, "close": 409.8837890625}, {"time": 1771619160, "open": 409.8901062011719, "high": 409.9985046386719, "low": 409.7701110839844, "close": 409.95001220703125}, {"time": 1771619220, "open": 409.9200134277344, "high": 410.20001220703125, "low": 409.9097900390625, "close": 410.0}, {"time": 1771619280, "open": 409.9800109863281, "high": 409.989990234375, "low": 409.6499938964844, "close": 409.82989501953125}, {"time": 1771619340, "open": 409.7900085449219, "high": 409.8900146484375, "low": 409.6069030761719, "close": 409.7900085449219}, {"time": 1771619400, "open": 409.7850036621094, "high": 410.2099914550781, "low": 409.6700134277344, "close": 410.06500244140625}, {"time": 1771619460, "open": 410.04998779296875, "high": 410.1400146484375, "low": 409.8800048828125, "close": 410.0849914550781}, {"time": 1771619520, "open": 410.1098937988281, "high": 410.1099853515625, "low": 409.8900146484375, "close": 409.8999938964844}, {"time": 1771619580, "open": 409.8900146484375, "high": 410.0, "low": 409.79998779296875, "close": 409.9599914550781}, {"time": 1771619640, "open": 409.9849853515625, "high": 410.0199890136719, "low": 409.7699890136719, "close": 409.989990234375}, {"time": 1771619700, "open": 409.9549865722656, "high": 410.135009765625, "low": 409.7799987792969, "close": 410.135009765625}, {"time": 1771619760, "open": 410.1400146484375, "high": 410.2900085449219, "low": 410.1199951171875, "close": 410.260009765625}, {"time": 1771619820, "open": 410.2699890136719, "high": 410.3999938964844, "low": 410.010009765625, "close": 410.0400085449219}, {"time": 1771619880, "open": 410.0799865722656, "high": 410.1199951171875, "low": 409.8999938964844, "close": 410.0849914550781}, {"time": 1771619940, "open": 410.1000061035156, "high": 410.5799865722656, "low": 410.1000061035156, "close": 410.4750061035156}, {"time": 1771620000, "open": 410.4700012207031, "high": 410.8500061035156, "low": 410.42999267578125, "close": 410.8500061035156}, {"time": 1771620060, "open": 410.84619140625, "high": 411.20001220703125, "low": 410.7200012207031, "close": 411.17999267578125}, {"time": 1771620120, "open": 411.19000244140625, "high": 411.239990234375, "low": 411.04400634765625, "close": 411.04998779296875}, {"time": 1771620180, "open": 411.0199890136719, "high": 411.1499938964844, "low": 410.9800109863281, "close": 411.05999755859375}, {"time": 1771620240, "open": 411.07000732421875, "high": 411.2550048828125, "low": 410.9700927734375, "close": 411.2550048828125}, {"time": 1771620300, "open": 411.260009765625, "high": 411.3599853515625, "low": 411.1700134277344, "close": 411.22601318359375}, {"time": 1771620360, "open": 411.2099914550781, "high": 411.4649963378906, "low": 411.1400146484375, "close": 411.45001220703125}, {"time": 1771620420, "open": 411.4549865722656, "high": 411.5, "low": 411.2300109863281, "close": 411.3700866699219}, {"time": 1771620480, "open": 411.3699951171875, "high": 411.3900146484375, "low": 411.10101318359375, "close": 411.20001220703125}, {"time": 1771620540, "open": 411.2049865722656, "high": 411.3598937988281, "low": 411.0799865722656, "close": 411.0870056152344}, {"time": 1771620600, "open": 411.1199951171875, "high": 411.75, "low": 411.1000061035156, "close": 411.4100036621094}, {"time": 1771620660, "open": 411.4100036621094, "high": 411.5899963378906, "low": 411.1199951171875, "close": 411.57000732421875}, {"time": 1771620720, "open": 411.6000061035156, "high": 411.6000061035156, "low": 411.2875061035156, "close": 411.489990234375}, {"time": 1771620780, "open": 411.4649963378906, "high": 411.5400085449219, "low": 411.07000732421875, "close": 411.20269775390625}, {"time": 1771620840, "open": 411.1600036621094, "high": 411.8599853515625, "low": 411.1600036621094, "close": 411.74749755859375}, {"time": 1771620900, "open": 411.760009765625, "high": 411.9700012207031, "low": 411.6000061035156, "close": 411.67498779296875}, {"time": 1771620960, "open": 411.6600036621094, "high": 412.239990234375, "low": 411.6300048828125, "close": 412.17999267578125}, {"time": 1771621020, "open": 412.1600036621094, "high": 412.2300109863281, "low": 411.6900939941406, "close": 411.7124938964844}, {"time": 1771621080, "open": 411.739990234375, "high": 411.8800048828125, "low": 411.5849914550781, "close": 411.6918029785156}, {"time": 1771621140, "open": 411.70001220703125, "high": 412.0, "low": 411.6600036621094, "close": 411.7099914550781}];
        candleSeries.setData(candleData);

        const patterns = [{"type": "FVG", "direction": "BULLISH", "strength": 0.16837846505302068, "context": "Expansion above 412.32998657", "range": [412.3299865722656, 412.3994140625], "timestamp": 1771621140}, {"type": "FVG", "direction": "BEARISH", "strength": 0.6799138222568502, "context": "Displacement below 412.14001465", "range": [411.8599853515625, 412.1400146484375], "timestamp": 1771621140}, {"type": "FVG", "direction": "BEARISH", "strength": 0.510356673462331, "context": "Displacement below 411.73001099", "range": [411.5199890136719, 411.7300109863281], "timestamp": 1771621140}, {"type": "FVG", "direction": "BEARISH", "strength": 0.14586943898731164, "context": "Displacement below 411.36999512", "range": [411.30999755859375, 411.3699951171875], "timestamp": 1771621140}, {"type": "FVG", "direction": "BEARISH", "strength": 0.2918737074641964, "context": "Displacement below 411.23999023", "range": [411.1199951171875, 411.239990234375], "timestamp": 1771621140}, {"type": "FVG", "direction": "BULLISH", "strength": 0.17050709716315282, "context": "Expansion above 411.11999512", "range": [411.1199951171875, 411.1900939941406], "timestamp": 1771621140}, {"type": "FVG", "direction": "BULLISH", "strength": 0.26829300213315754, "context": "Expansion above 410.39990234", "range": [410.39990234375, 410.510009765625], "timestamp": 1771621140}, {"type": "FVG", "direction": "BEARISH", "strength": 0.121781842327362, "context": "Displacement below 410.51998901", "range": [410.4700012207031, 410.5199890136719], "timestamp": 1771621140}, {"type": "FVG", "direction": "BEARISH", "strength": 0.5612532353012067, "context": "Displacement below 410.20999146", "range": [409.9798889160156, 410.2099914550781], "timestamp": 1771621140}, {"type": "FVG", "direction": "BULLISH", "strength": 0.9508987231490185, "context": "Expansion above 410.25000000", "range": [410.25, 410.6401062011719], "timestamp": 1771621140}, {"type": "FVG", "direction": "BEARISH", "strength": 0.3408178782047244, "context": "Displacement below 410.86999512", "range": [410.7300109863281, 410.8699951171875], "timestamp": 1771621140}, {"type": "FVG", "direction": "BEARISH", "strength": 0.12176997339796714, "context": "Displacement below 410.55999756", "range": [410.510009765625, 410.55999755859375], "timestamp": 1771621140}, {"type": "FVG", "direction": "BEARISH", "strength": 0.17085622697687874, "context": "Displacement below 410.35000610", "range": [410.2799072265625, 410.3500061035156], "timestamp": 1771621140}, {"type": "FVG", "direction": "BEARISH", "strength": 0.5610982129575781, "context": "Displacement below 410.16000366", "range": [409.92999267578125, 410.1600036621094], "timestamp": 1771621140}, {"type": "FVG", "direction": "BEARISH", "strength": 0.048245602279228805, "context": "Displacement below 409.90979004", "range": [409.8900146484375, 409.9097900390625], "timestamp": 1771621140}, {"type": "FVG", "direction": "BULLISH", "strength": 0.24390543435748313, "context": "Expansion above 410.01998901", "range": [410.0199890136719, 410.1199951171875], "timestamp": 1771621140}, {"type": "FVG", "direction": "BULLISH", "strength": 0.755870384971491, "context": "Expansion above 410.11999512", "range": [410.1199951171875, 410.42999267578125], "timestamp": 1771621140}, {"type": "FVG", "direction": "BULLISH", "strength": 0.3410167397743802, "context": "Expansion above 410.57998657", "range": [410.5799865722656, 410.7200012207031], "timestamp": 1771621140}, {"type": "FVG", "direction": "BULLISH", "strength": 0.4721923847110787, "context": "Expansion above 410.85000610", "range": [410.8500061035156, 411.04400634765625], "timestamp": 1771621140}, {"type": "FVG", "direction": "BULLISH", "strength": 0.04869155185982521, "context": "Expansion above 411.14999390", "range": [411.1499938964844, 411.1700134277344], "timestamp": 1771621140}, {"type": "FVG", "direction": "BULLISH", "strength": 0.14578791210584363, "context": "Expansion above 411.54000854", "range": [411.5400085449219, 411.6000061035156], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [410.8500061035156, 410.9700927734375], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [410.8500061035156, 411.0799865722656], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [410.8500061035156, 411.07000732421875], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [411.3699951171875, 411.5899963378906], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [411.5, 411.5899963378906], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [411.5899963378906, 411.75], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [410.95001220703125, 410.9800109863281], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [410.9800109863281, 411.3699951171875], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [410.0299987792969, 410.0400085449219], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.6499938964844, 410.0299987792969], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.7200012207031, 410.0299987792969], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.7699890136719, 410.0299987792969], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.8999938964844, 410.0299987792969], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [410.55999755859375, 410.95001220703125], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [410.1700134277344, 410.55999755859375], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [410.20001220703125, 410.55999755859375], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [410.2099914550781, 410.55999755859375], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.6499938964844, 410.0400085449219], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.7200012207031, 410.0400085449219], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.7699890136719, 410.0400085449219], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.8999938964844, 410.0400085449219], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.5299987792969, 409.6499938964844], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.6499938964844, 409.7200012207031], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.6069030761719, 409.6499938964844], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.6499938964844, 409.7699890136719], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.6499938964844, 409.8999938964844], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [411.3699951171875, 411.5], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [411.3699951171875, 411.75], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.5299987792969, 409.7200012207031], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.5299987792969, 409.6069030761719], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.5299987792969, 409.7699890136719], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.5299987792969, 409.8999938964844], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [410.1700134277344, 410.20001220703125], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [410.1700134277344, 410.2099914550781], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.6069030761719, 409.7200012207031], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.7200012207031, 409.7699890136719], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.7200012207031, 409.8999938964844], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [410.20001220703125, 410.2099914550781], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.6069030761719, 409.7699890136719], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.6069030761719, 409.8999938964844], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [409.7699890136719, 409.8999938964844], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [410.9700927734375, 411.0799865722656], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [410.9700927734375, 411.07000732421875], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [411.5, 411.75], "timestamp": 1771621140}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [411.07000732421875, 411.0799865722656], "timestamp": 1771621140}];
        const list = document.getElementById('pattern-list');

        patterns.forEach(p => {
            const li = document.createElement('li');
            li.innerHTML = `<b>${p.type}</b> (${p.direction}) - ${p.context} (Strength: ${p.strength.toFixed(2)})`;
            list.appendChild(li);

            // Draw Patterns
            if (p.type === 'FVG') {
                // Simplified visualization as a horizontal line or marker
                // Real FVGs are boxes, but Lightweight Charts needs extra plugins for boxes
                // We'll use marks
            }
        });
        
        // Add markers for patterns
        const markers = patterns.map(p => ({
            time: p.timestamp || candleData[candleData.length - 1].time,
            position: p.direction === 'BULLISH' ? 'belowBar' : 'aboveBar',
            color: p.direction === 'BULLISH' ? '#26a69a' : '#ef5350',
            shape: p.type === 'FVG' ? 'arrowUp' : 'circle',
            text: p.type,
        }));
        candleSeries.setMarkers(markers);

    </script>
</body>
</html>
