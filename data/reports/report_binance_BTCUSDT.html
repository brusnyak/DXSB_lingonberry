
<!DOCTYPE html>
<html>
<head>
    <title>ICT Analysis - BTCUSDT</title>
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: #131722; color: #d1d4dc; margin: 0; padding: 20px; }
        #chart { height: 600px; width: 100%; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .badge { padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; }
        .bullish { background: #26a69a; color: white; }
        .bearish { background: #ef5350; color: white; }
        .neutral { background: #787b86; color: white; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ICT Analysis: BTCUSDT</h1>
        <div><span class="badge bullish">binance</span></div>
    </div>
    <div id="chart"></div>
    <div style="margin-top: 20px;">
        <h3>Patterns Detected:</h3>
        <ul id="pattern-list"></ul>
    </div>

    <script>
        const chart = LightweightCharts.createChart(document.getElementById('chart'), {
            width: document.getElementById('chart').offsetWidth,
            height: 600,
            layout: {
                backgroundColor: '#131722',
                textColor: '#d1d4dc',
            },
            grid: {
                vertLines: { color: '#2B2B43' },
                horzLines: { color: '#2B2B43' },
            },
            crosshair: { mode: LightweightCharts.CrosshairMode.Normal },
            priceScale: { borderColor: '#485c7b' },
            timeScale: { borderColor: '#485c7b' },
        });

        const candleSeries = chart.addCandlestickSeries({
            upColor: '#26a69a', downColor: '#ef5350', borderVisible: false,
            wickUpColor: '#26a69a', wickDownColor: '#ef5350',
        });

        const candleData = [{"time": 1771616340, "open": 67810.28, "high": 67829.05, "low": 67762.85, "close": 67762.85}, {"time": 1771616400, "open": 67762.85, "high": 67771.75, "low": 67724.19, "close": 67724.19}, {"time": 1771616460, "open": 67724.2, "high": 67733.71, "low": 67709.61, "close": 67721.12}, {"time": 1771616520, "open": 67721.12, "high": 67721.12, "low": 67632.08, "close": 67638.67}, {"time": 1771616580, "open": 67638.67, "high": 67650.84, "low": 67548.85, "close": 67556.71}, {"time": 1771616640, "open": 67556.72, "high": 67610.6, "low": 67550.48, "close": 67610.6}, {"time": 1771616700, "open": 67610.6, "high": 67641.55, "low": 67601.3, "close": 67601.3}, {"time": 1771616760, "open": 67601.31, "high": 67621.81, "low": 67586.9, "close": 67588.36}, {"time": 1771616820, "open": 67588.36, "high": 67636.82, "low": 67588.35, "close": 67611.97}, {"time": 1771616880, "open": 67611.96, "high": 67611.97, "low": 67590.0, "close": 67590.83}, {"time": 1771616940, "open": 67590.82, "high": 67590.83, "low": 67570.58, "close": 67583.01}, {"time": 1771617000, "open": 67583.0, "high": 67623.95, "low": 67578.17, "close": 67623.94}, {"time": 1771617060, "open": 67623.95, "high": 67686.58, "low": 67623.95, "close": 67665.51}, {"time": 1771617120, "open": 67665.51, "high": 67704.4, "low": 67665.5, "close": 67701.93}, {"time": 1771617180, "open": 67701.93, "high": 67701.94, "low": 67646.96, "close": 67657.59}, {"time": 1771617240, "open": 67657.6, "high": 67664.75, "low": 67642.87, "close": 67656.84}, {"time": 1771617300, "open": 67656.85, "high": 67662.74, "low": 67586.41, "close": 67599.45}, {"time": 1771617360, "open": 67599.45, "high": 67729.58, "low": 67599.45, "close": 67676.03}, {"time": 1771617420, "open": 67676.04, "high": 67680.78, "low": 67642.0, "close": 67658.92}, {"time": 1771617480, "open": 67658.92, "high": 67675.83, "low": 67647.58, "close": 67656.94}, {"time": 1771617540, "open": 67656.95, "high": 67656.95, "low": 67636.6, "close": 67646.03}, {"time": 1771617600, "open": 67646.03, "high": 67680.19, "low": 67636.3, "close": 67680.19}, {"time": 1771617660, "open": 67680.31, "high": 67726.92, "low": 67680.31, "close": 67726.92}, {"time": 1771617720, "open": 67726.91, "high": 67726.91, "low": 67691.21, "close": 67697.55}, {"time": 1771617780, "open": 67697.56, "high": 67733.61, "low": 67697.55, "close": 67711.91}, {"time": 1771617840, "open": 67711.91, "high": 67719.63, "low": 67678.78, "close": 67694.66}, {"time": 1771617900, "open": 67694.66, "high": 67754.75, "low": 67694.65, "close": 67731.29}, {"time": 1771617960, "open": 67731.29, "high": 67772.93, "low": 67730.2, "close": 67767.12}, {"time": 1771618020, "open": 67767.12, "high": 67830.0, "low": 67743.46, "close": 67829.95}, {"time": 1771618080, "open": 67829.95, "high": 67831.7, "low": 67807.3, "close": 67815.72}, {"time": 1771618140, "open": 67815.72, "high": 67815.72, "low": 67760.01, "close": 67766.77}, {"time": 1771618200, "open": 67766.77, "high": 67783.4, "low": 67751.43, "close": 67757.31}, {"time": 1771618260, "open": 67757.32, "high": 67767.54, "low": 67719.32, "close": 67720.08}, {"time": 1771618320, "open": 67720.07, "high": 67720.07, "low": 67692.0, "close": 67708.48}, {"time": 1771618380, "open": 67708.47, "high": 67885.55, "low": 67708.47, "close": 67823.64}, {"time": 1771618440, "open": 67823.63, "high": 67860.29, "low": 67788.98, "close": 67816.34}, {"time": 1771618500, "open": 67816.33, "high": 67816.33, "low": 67752.6, "close": 67766.97}, {"time": 1771618560, "open": 67766.97, "high": 67773.68, "low": 67762.48, "close": 67771.09}, {"time": 1771618620, "open": 67771.1, "high": 67771.1, "low": 67704.89, "close": 67711.15}, {"time": 1771618680, "open": 67711.15, "high": 67714.08, "low": 67702.58, "close": 67707.6}, {"time": 1771618740, "open": 67707.6, "high": 67737.02, "low": 67707.33, "close": 67737.02}, {"time": 1771618800, "open": 67737.02, "high": 67744.88, "low": 67712.26, "close": 67734.63}, {"time": 1771618860, "open": 67734.63, "high": 67734.63, "low": 67582.86, "close": 67605.39}, {"time": 1771618920, "open": 67605.4, "high": 67639.67, "low": 67605.4, "close": 67639.66}, {"time": 1771618980, "open": 67639.66, "high": 67639.67, "low": 67639.66, "close": 67639.66}, {"time": 1771619040, "open": 67639.67, "high": 67670.39, "low": 67639.67, "close": 67662.75}, {"time": 1771619100, "open": 67662.75, "high": 67674.72, "low": 67634.0, "close": 67636.82}, {"time": 1771619160, "open": 67636.82, "high": 67640.33, "low": 67609.35, "close": 67615.07}, {"time": 1771619220, "open": 67615.07, "high": 67615.07, "low": 67602.25, "close": 67602.26}, {"time": 1771619280, "open": 67602.26, "high": 67616.81, "low": 67601.3, "close": 67613.27}, {"time": 1771619340, "open": 67613.28, "high": 67613.28, "low": 67565.52, "close": 67580.1}, {"time": 1771619400, "open": 67580.09, "high": 67639.59, "low": 67573.36, "close": 67614.87}, {"time": 1771619460, "open": 67614.87, "high": 67630.9, "low": 67610.92, "close": 67629.58}, {"time": 1771619520, "open": 67629.59, "high": 67633.89, "low": 67591.33, "close": 67591.34}, {"time": 1771619580, "open": 67591.33, "high": 67610.91, "low": 67520.3, "close": 67610.91}, {"time": 1771619640, "open": 67610.92, "high": 67610.92, "low": 67574.0, "close": 67574.01}, {"time": 1771619700, "open": 67574.01, "high": 67602.62, "low": 67574.01, "close": 67597.62}, {"time": 1771619760, "open": 67597.61, "high": 67613.21, "low": 67593.32, "close": 67593.33}, {"time": 1771619820, "open": 67593.33, "high": 67600.55, "low": 67574.05, "close": 67595.82}, {"time": 1771619880, "open": 67595.83, "high": 67610.0, "low": 67591.45, "close": 67610.0}, {"time": 1771619940, "open": 67609.99, "high": 67685.45, "low": 67609.99, "close": 67679.24}, {"time": 1771620000, "open": 67679.25, "high": 67704.4, "low": 67679.25, "close": 67700.36}, {"time": 1771620060, "open": 67700.37, "high": 67704.4, "low": 67692.25, "close": 67704.4}, {"time": 1771620120, "open": 67704.4, "high": 67706.0, "low": 67688.42, "close": 67688.42}, {"time": 1771620180, "open": 67688.42, "high": 67706.56, "low": 67680.0, "close": 67706.56}, {"time": 1771620240, "open": 67706.56, "high": 67734.01, "low": 67706.56, "close": 67734.0}, {"time": 1771620300, "open": 67734.0, "high": 67744.58, "low": 67734.0, "close": 67744.58}, {"time": 1771620360, "open": 67744.57, "high": 67762.49, "low": 67731.18, "close": 67741.29}, {"time": 1771620420, "open": 67741.3, "high": 67741.3, "low": 67711.66, "close": 67719.16}, {"time": 1771620480, "open": 67719.17, "high": 67737.57, "low": 67719.16, "close": 67731.67}, {"time": 1771620540, "open": 67731.67, "high": 67731.67, "low": 67692.3, "close": 67694.37}, {"time": 1771620600, "open": 67694.38, "high": 67718.1, "low": 67675.0, "close": 67682.91}, {"time": 1771620660, "open": 67682.91, "high": 67689.35, "low": 67631.14, "close": 67684.13}, {"time": 1771620720, "open": 67684.13, "high": 67685.91, "low": 67668.66, "close": 67684.14}, {"time": 1771620780, "open": 67684.15, "high": 67705.59, "low": 67679.5, "close": 67705.59}, {"time": 1771620840, "open": 67705.59, "high": 67719.8, "low": 67682.14, "close": 67682.15}, {"time": 1771620900, "open": 67682.15, "high": 67751.54, "low": 67682.15, "close": 67732.85}, {"time": 1771620960, "open": 67732.86, "high": 67742.29, "low": 67723.35, "close": 67736.0}, {"time": 1771621020, "open": 67735.99, "high": 67736.0, "low": 67706.24, "close": 67716.3}, {"time": 1771621080, "open": 67716.3, "high": 67725.79, "low": 67704.44, "close": 67721.27}, {"time": 1771621140, "open": 67721.28, "high": 67759.1, "low": 67706.24, "close": 67750.4}, {"time": 1771621200, "open": 67750.4, "high": 67754.21, "low": 67683.31, "close": 67696.18}, {"time": 1771621260, "open": 67696.19, "high": 67802.09, "low": 67693.99, "close": 67790.42}, {"time": 1771621320, "open": 67790.42, "high": 67806.25, "low": 67727.61, "close": 67727.62}, {"time": 1771621380, "open": 67727.62, "high": 67787.16, "low": 67718.94, "close": 67745.22}, {"time": 1771621440, "open": 67745.23, "high": 67750.0, "low": 67664.56, "close": 67664.57}, {"time": 1771621500, "open": 67664.56, "high": 67664.57, "low": 67639.29, "close": 67646.49}, {"time": 1771621560, "open": 67646.5, "high": 67664.56, "low": 67640.13, "close": 67664.56}, {"time": 1771621620, "open": 67664.56, "high": 67723.99, "low": 67664.56, "close": 67714.15}, {"time": 1771621680, "open": 67714.16, "high": 67796.4, "low": 67714.15, "close": 67786.0}, {"time": 1771621740, "open": 67786.0, "high": 67786.01, "low": 67775.2, "close": 67775.21}, {"time": 1771621800, "open": 67775.2, "high": 67787.76, "low": 67768.42, "close": 67768.43}, {"time": 1771621860, "open": 67768.42, "high": 67768.43, "low": 67752.04, "close": 67752.05}, {"time": 1771621920, "open": 67752.04, "high": 67752.05, "low": 67706.68, "close": 67706.68}, {"time": 1771621980, "open": 67706.69, "high": 67723.01, "low": 67692.3, "close": 67703.23}, {"time": 1771622040, "open": 67703.22, "high": 67720.54, "low": 67689.01, "close": 67720.54}, {"time": 1771622100, "open": 67720.55, "high": 67720.55, "low": 67686.0, "close": 67686.45}, {"time": 1771622160, "open": 67686.46, "high": 67686.46, "low": 67669.53, "close": 67676.56}, {"time": 1771622220, "open": 67676.56, "high": 67676.56, "low": 67669.78, "close": 67669.79}, {"time": 1771622280, "open": 67669.79, "high": 67669.79, "low": 67669.78, "close": 67669.79}];
        candleSeries.setData(candleData);

        const patterns = [{"type": "FVG", "direction": "BEARISH", "strength": 0.43021414300215, "context": "Displacement below 67762.85000000", "range": [67733.71, 67762.85], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.04533297736375452, "context": "Displacement below 67724.19000000", "range": [67721.12, 67724.19], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.8687253550732077, "context": "Displacement below 67709.61000000", "range": [67650.84, 67709.61], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.31770166216538165, "context": "Displacement below 67632.08000000", "range": [67610.6, 67632.08], "timestamp": 1771622280}, {"type": "FVG", "direction": "BULLISH", "strength": 0.4900072983271553, "context": "Expansion above 67590.83000000", "range": [67590.83, 67623.95], "timestamp": 1771622280}, {"type": "FVG", "direction": "BULLISH", "strength": 0.6144272850077126, "context": "Expansion above 67623.95000000", "range": [67623.95, 67665.5], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.011084057799592983, "context": "Displacement below 67665.50000000", "range": [67664.75, 67665.5], "timestamp": 1771622280}, {"type": "FVG", "direction": "BULLISH", "strength": 0.3452712544682601, "context": "Expansion above 67656.95000000", "range": [67656.95, 67680.31], "timestamp": 1771622280}, {"type": "FVG", "direction": "BULLISH", "strength": 0.16282460199956716, "context": "Expansion above 67680.19000000", "range": [67680.19, 67691.21], "timestamp": 1771622280}, {"type": "FVG", "direction": "BULLISH", "strength": 0.15608472757455694, "context": "Expansion above 67719.63000000", "range": [67719.63, 67730.2], "timestamp": 1771622280}, {"type": "FVG", "direction": "BULLISH", "strength": 0.5071346332525817, "context": "Expansion above 67772.93000000", "range": [67772.93, 67807.3], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.35259370288320824, "context": "Displacement below 67807.30000000", "range": [67783.4, 67807.3], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.4630828054368319, "context": "Displacement below 67751.43000000", "range": [67720.07, 67751.43], "timestamp": 1771622280}, {"type": "FVG", "direction": "BULLISH", "strength": 1.0175713049320745, "context": "Expansion above 67720.07000000", "range": [67720.07, 67788.98], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.22575135362279397, "context": "Displacement below 67788.98000000", "range": [67773.68, 67788.98], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.714770103942941, "context": "Displacement below 67762.48000000", "range": [67714.08, 67762.48], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 1.0731867852105115, "context": "Displacement below 67712.26000000", "range": [67639.67, 67712.26], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.2799671729984965, "context": "Displacement below 67634.00000000", "range": [67615.07, 67634.0], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.00014790512348206164, "context": "Displacement below 67610.92000000", "range": [67610.91, 67610.92], "timestamp": 1771622280}, {"type": "FVG", "direction": "BULLISH", "strength": 0.13964383425868476, "context": "Expansion above 67600.55000000", "range": [67600.55, 67609.99], "timestamp": 1771622280}, {"type": "FVG", "direction": "BULLISH", "strength": 1.024256766750442, "context": "Expansion above 67610.00000000", "range": [67610.0, 67679.25], "timestamp": 1771622280}, {"type": "FVG", "direction": "BULLISH", "strength": 0.10046472321612043, "context": "Expansion above 67685.45000000", "range": [67685.45, 67692.25], "timestamp": 1771622280}, {"type": "FVG", "direction": "BULLISH", "strength": 0.008271054263930822, "context": "Expansion above 67706.00000000", "range": [67706.0, 67706.56], "timestamp": 1771622280}, {"type": "FVG", "direction": "BULLISH", "strength": 0.40527830685843647, "context": "Expansion above 67706.56000000", "range": [67706.56, 67734.0], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.015653126711923093, "context": "Displacement below 67719.16000000", "range": [67718.1, 67719.16], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.043581449666652006, "context": "Displacement below 67692.30000000", "range": [67689.35, 67692.3], "timestamp": 1771622280}, {"type": "FVG", "direction": "BULLISH", "strength": 0.052421891381992936, "context": "Expansion above 67719.80000000", "range": [67719.8, 67723.35], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.8035224342664016, "context": "Displacement below 67718.94000000", "range": [67664.57, 67718.94], "timestamp": 1771622280}, {"type": "FVG", "direction": "BULLISH", "strength": 0.7328799596124647, "context": "Expansion above 67664.56000000", "range": [67664.56, 67714.15], "timestamp": 1771622280}, {"type": "FVG", "direction": "BULLISH", "strength": 0.756157456168749, "context": "Expansion above 67723.99000000", "range": [67723.99, 67775.2], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.0998990237786046, "context": "Displacement below 67775.20000000", "range": [67768.43, 67775.2], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.24161630533692247, "context": "Displacement below 67768.42000000", "range": [67752.05, 67768.42], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.42865785203582973, "context": "Displacement below 67752.04000000", "range": [67723.01, 67752.04], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.03767370903995371, "context": "Displacement below 67689.01000000", "range": [67686.46, 67689.01], "timestamp": 1771622280}, {"type": "FVG", "direction": "BEARISH", "strength": 0.13948699520183183, "context": "Displacement below 67686.00000000", "range": [67676.56, 67686.0], "timestamp": 1771622280}, {"type": "OB", "direction": "BULLISH", "strength": 0.1529645917320732, "context": "Institutional buy zone", "range": [67692.0, 67720.07], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67548.85, 67570.58], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67548.85, 67586.41], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67548.85, 67582.86], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67548.85, 67565.52], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67520.3, 67548.85], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67570.58, 67586.41], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67570.58, 67636.3], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67570.58, 67582.86], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67565.52, 67570.58], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67520.3, 67570.58], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67570.58, 67631.14], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67704.4, 67729.58], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67704.4, 67744.88], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67674.72, 67704.4], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67639.59, 67704.4], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67704.4, 67762.49], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67704.4, 67751.54], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67586.41, 67636.3], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67582.86, 67586.41], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67565.52, 67586.41], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67520.3, 67586.41], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67586.41, 67631.14], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67586.41, 67639.29], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67729.58, 67744.88], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67674.72, 67729.58], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67729.58, 67762.49], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67729.58, 67751.54], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67729.58, 67796.4], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67636.3, 67678.78], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67636.3, 67692.0], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67636.3, 67702.58], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67582.86, 67636.3], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67636.3, 67680.0], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67631.14, 67636.3], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67636.3, 67683.31], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67636.3, 67639.29], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67636.3, 67669.53], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67678.78, 67692.0], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67678.78, 67702.58], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67678.78, 67680.0], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67631.14, 67678.78], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67678.78, 67683.31], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67639.29, 67678.78], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67669.53, 67678.78], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67831.7, 67885.55], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67806.25, 67831.7], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67796.4, 67831.7], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67692.0, 67702.58], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67680.0, 67692.0], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67631.14, 67692.0], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67683.31, 67692.0], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67639.29, 67692.0], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67669.53, 67692.0], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67680.0, 67702.58], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67683.31, 67702.58], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67639.29, 67702.58], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67669.53, 67702.58], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67744.88, 67762.49], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67744.88, 67751.54], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67744.88, 67806.25], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67744.88, 67796.4], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67565.52, 67582.86], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67520.3, 67582.86], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67582.86, 67631.14], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67582.86, 67639.29], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67639.59, 67674.72], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67613.21, 67674.72], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67520.3, 67565.52], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67565.52, 67631.14], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67613.21, 67639.59], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67631.14, 67680.0], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67680.0, 67683.31], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67639.29, 67680.0], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67669.53, 67680.0], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67751.54, 67762.49], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67762.49, 67806.25], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67762.49, 67796.4], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67631.14, 67683.31], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67631.14, 67639.29], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67631.14, 67669.53], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67751.54, 67806.25], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67751.54, 67796.4], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67639.29, 67683.31], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67669.53, 67683.31], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQH detected (Liquidity Pool)", "range": [67796.4, 67806.25], "timestamp": 1771622280}, {"type": "Liquidity", "direction": "NEUTRAL", "strength": 1.5, "context": "EQL detected (Liquidity Pool)", "range": [67639.29, 67669.53], "timestamp": 1771622280}];
        const list = document.getElementById('pattern-list');

        patterns.forEach(p => {
            const li = document.createElement('li');
            li.innerHTML = `<b>${p.type}</b> (${p.direction}) - ${p.context} (Strength: ${p.strength.toFixed(2)})`;
            list.appendChild(li);

            // Draw Patterns
            if (p.type === 'FVG') {
                // Simplified visualization as a horizontal line or marker
                // Real FVGs are boxes, but Lightweight Charts needs extra plugins for boxes
                // We'll use marks
            }
        });
        
        // Add markers for patterns
        const markers = patterns.map(p => ({
            time: p.timestamp || candleData[candleData.length - 1].time,
            position: p.direction === 'BULLISH' ? 'belowBar' : 'aboveBar',
            color: p.direction === 'BULLISH' ? '#26a69a' : '#ef5350',
            shape: p.type === 'FVG' ? 'arrowUp' : 'circle',
            text: p.type,
        }));
        candleSeries.setMarkers(markers);

    </script>
</body>
</html>
